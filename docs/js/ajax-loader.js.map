{
"version":3,
"file":"internal/js/ajax-loader.js",
"lineCount":8,
"mappings":"A,YA2B4B,QAAA,EAAQ,CAAC,CAAD,CAAQ,CAC1C,IAAI,EAAQ,CACZ,OAAO,SAAQ,EAAG,CAChB,MAAI,EAAJ,CAAY,CAAA,OAAZ,CACS,CACL,KAAM,CAAA,CADD,CAEL,MAAO,CAAA,CAAM,CAAA,EAAN,CAFF,CADT,CAMS,CAAC,KAAM,CAAA,CAAP,CAPO,CAFwB,CCGrB,QAAA,EAAQ,CAAC,CAAD,CAAW,CAExC,IAAI,EAAoC,WAApC,EAAmB,MAAO,OAA1B,EAAmD,MAAA,SAAnD,EACmB,CAAD,CAAW,MAAA,SAAX,CACtB,OAAO,EAAA,CAAmB,CAAA,KAAA,CAAsB,CAAtB,CAAnB,CDc6B,CAAC,KAAMA,CAAA,CCbM,CDaN,CAAP,CClBI,CCEd,QAAA,EAAQ,CAAC,CAAD,CAAW,CAG7C,IAFA,IAAI,CAAJ,CACI,EAAM,EACV,CAAO,CAAC,CAAC,CAAD,CAAK,CAAA,KAAA,EAAL,MAAR,CAAA,CACE,CAAA,KAAA,CAAS,CAAA,MAAT,CAEF,OAAO,EANsC;AC/B/CC,QAASA,EAAa,CAACC,CAAD,CAAMC,CAAN,CAA8B,CAgBlDC,QAASA,EAAQ,EAAG,CAClB,MAAO,CACLC,GAA8B,CAA9BA,GAAKC,CAAAC,OAALF,CAAoB,GAApBA,CAAwB,CAAxBA,CADK,CAELG,KAAMA,QAAA,EAAM,CAAA,MAAAC,KAAAC,MAAA,CAAWJ,CAAAK,aAAX,CAAA,CAFP,CADW,CAhBgB,IAAAC,EAAA,IAAA,EAAA,GAAAA,CAAA,CAAU,EAAV,CAAAA,CAIpC,KAAMN,EAAU,IAAIO,cACpBP,EAAAQ,KAAA,CAHE,IAAA,EAAAC,GACEH,CADF,OAAAG,CAAS,KAATA,CACEH,CADF,OAGF,CAAqBV,CAArB,CAA0B,CAAA,CAA1B,CAEAI,EAAAU,OAAA,CAAiBC,QAAA,EAAM,CACrBd,CAAA,CAAS,IAAT,CAAeC,CAAA,EAAf,CADqB,CAIvBE,EAAAY,QAAA,CAAkBC,QAAA,EAAM,CACtBhB,CAAA,CAAS,iCAAT,CAA2CD,CAA3C,CAAS,GAAT,CADsB,CAGxBI,EAAAc,KAAA,CAAa,IAAb,CAdkD,C,CCwBpD,IAAIC,EAAWC,QAAAD,SAGfE;MAAA,WAAA,CArBmBC,QAAA,CAAC,CAAD,CAIR,CAJS,CAAA,CAAA,IAAA,EAAA,GAAA,CAAA,CAIhB,EAJgB,CAAA,CAGlB,KAAAC,EAAA,IAAA,EAAA,GAAA,CAAA,KAAA,CAAO,GAAP,CAAA,CAAA,KAEA,IAROF,MAAAG,QAAAC,UAQP,EARyDC,IAAAA,EAQzD,GARmCL,MAAAM,WAQnC,CAAA,CACA,IAAMC,EAAUC,QAAAC,cAAA,CALhB,IAAA,EAAAC,GAAA,CAAA,EAAAA,CAAkB,UAAlBA,CAAA,CAAA,EAKgB,CACV,EAAA,CAAAC,CAAA,CAAaH,QAAAI,iBAAA,CALnB,IAAA,EAAAC,GAAA,CAAA,EAAAA,CAAc,UAAdA,CAAA,CAAA,EAKmB,CAAb,CACN,KAAMC,EADAC,CAAAC,CAAA,CAAAA,CACWC,OAAA,CAAa,QAAA,CAACC,CAAD,CAAMC,CAAN,CAAe,CACrCC,CAAAA,CAAKC,CAAA,CAAUF,CAAV,CAAgBZ,CAAhB,CAAyB,QAAA,EAAMO,CAAAA,MAAAA,EAAAA,CAA/B,CAAyCZ,CAAzC,CACX,OAAO,EAAA,OAAA,CAAIgB,CCab,WAAwB,MAAxB,CDbaA,CCab,CAGSH,CAAA,CAA0BJ,CAAA,CDhBtBO,CCgBsB,CAA1B,CDhBA,CAAYE,CCarB,WAAwB,MAAxB,CDbqBA,CCarB,CAGSL,CAAA,CAA0BJ,CAAA,CDhBdS,CCgBc,CAA1B,CDhBA,CAFoC,CAA5B,CAGd,EAHc,CAIjBpB,OAAAsB,iBAAA,CAAwB,UAAxB,CAAoC,QAAA,CAAC,CAAD,CAAe,CAEjDC,CAAA,CADUxB,QAAAD,SAAA0B,MAAAC,CAAwBvB,CAAAwB,OAAxBD,CACV,CAAYlB,CAAZ,CAAqB,QAAA,EAAMO,CAAAA,MAAAA,EAAAA,CAA3B;AAAqCZ,CAArC,CAFmC,CAAEyB,MAErC,CAFiD,CAAnD,CAIAxB,QAAAyB,aAAA,CAAqB,CAAA,CAArB,CAA2B,IAA3B,CAXA,CADS,CAmBOP,SAAA,EAAA,CAACF,CAAD,CAAOZ,CAAP,CAAgBsB,CAAhB,CAA6B3B,CAA7B,CAAsC,CAChD,CAAA,CAAAS,CAAA,CAAUQ,CAAAP,iBAAA,CAAsB,GAAtB,CAAV,CAAIQ,EAAAA,CAAJL,CAAA,CAAA,CAAA,CACNK,EAAAU,QAAA,CAAW,QAAA,CAACC,CAAD,CAAU,CACnBA,CAAAT,iBAAA,CAAsB,OAAtB,CAA+B,QAAA,CAACU,CAAD,CAAO,CACpCA,CAAAC,eAAA,EACMC,EAAAA,CAAOF,CAAAG,cAAAC,aAAA,CAA6B,MAA7B,CACbb,EAAA,CAASW,CAAT,CAAe3B,CAAf,CAAwBsB,CAAxB,CAAqC3B,CAArC,CACA,OAAO,CAAA,CAJ6B,CAAtC,CADmB,CAArB,CAQA,OAAOkB,EAV+C;AAmBvCG,QAAA,EAAA,CAACc,CAAD,CAAO9B,CAAP,CAAgBsB,CAAhB,CAA6B3B,CAA7B,CAAmCoC,CAAnC,CAA6D,CAA1BA,CAAA,CAAA,IAAA,EAAA,GAAAA,CAAA,CAAgB,CAAA,CAAhB,CAAAA,CAClD,KAAMb,EAAI,KAAAc,KAAA,CAAWF,CAAX,CAAA,CAAmBA,CAAnB,CAA0B,GAA1B,CAA8BA,CACxC,IAAIvC,CAAJ,EAAgB2B,CAAhB,CACEtB,OAAAyB,aAAA,CAAqB,CAAE,KAAQ7B,QAAAyC,KAAV,CAArB,CAAgD,IAAhD,CADF,KAAA,CAIA,IAAMC,EAAOvC,CAAPuC,CAAI,MAAJA,CAAkBhB,CAAxB,CACIiB,CADJ,CAEIC,CACJC,WAAA,CAAW,QAAA,EAAM,CAEf,GAAID,CAAAA,CAAJ,CAAA,CExDI,IAAA,EFyDqBpC,CEzDUsC,sBAAA,EAA/B,CAAEC,EAAA,CAAA,IAAF,CAAOC,EAAA,CAAA,KAAP,CAAaC,EAAA,CAAA,MAAb,CAAoBC,EAAA,CAAA,OACpBC,EAAAA,CAAc1C,QAAA2C,cAAA,CAAuB,KAAvB,CACpBD,EAAAE,MAAAC,SAAA,CAA6B,UAC7BH,EAAAE,MAAAN,IAAA,CAA2BA,CAA3B,CAAiC9C,MAAAsD,YAAjC,CAAwB,IACxBJ,EAAAE,MAAAL,KAAA,CAA4BA,CAA5B,CAAmC/C,MAAAuD,YAAnC,CAAyB,IACzBL,EAAAE,MAAAJ,MAAA,CAA6BA,CAA7B,CAA0B,IAC1BE,EAAAE,MAAAH,OAAA,CAA8BA,CAA9B,CAA2B,IAC3BC,EAAAE,MAAAI,WAAA,CAA+B,wBAC/BN,EAAAE,MAAAK,OAAA,CAA2B,KACrBC,EAAAA,CAASlD,QAAA2C,cAAA,CAAuB,KAAvB,CACfO;CAAAN,MAAAO,UAAA,CAAyB,QACzBD,EAAAN,MAAAJ,MAAA,CAAqB,MACfY,EAAAA,CAAiBpD,QAAAqD,eAAA,CAAwB,gBAAxB,CACnBC,EAAAA,CAAY,mDACZF,EAAJ,GAEQG,CAEN,CAFUH,CAAAI,UAAA,CAAyB,CAAA,CAAzB,CAEV,CADAD,CAAAX,MAAAa,QACA,CADkB,EAClB,CAAAH,CAAA,CAAYC,CAAAG,UAJd,CAMAR,EAAAS,UAAA,CAAmBL,CACnBZ,EAAAkB,YAAA,CAAwBV,CAAxB,CACAlD,SAAA6D,KAAAC,aAAA,CAA2BpB,CAA3B,CAAwC1C,QAAA6D,KAAAE,WAAxC,CACA,EAAA,CAAOrB,CFiCL,CAFe,CAAjB,CAIG,GAJH,CDjCaxE,ECsCb,CAAc+D,CAAd,CAAiB,QAAA,CAAC+B,CAAD,CAAMC,CAAN,CAAc,CAC7B9B,CAAA,CAAW,CAAA,CACPD,EAAJ,EACElC,QAAA6D,KAAAK,YAAA,CAA0BhC,CAA1B,CAEF,IAAI8B,CAAJ,EAAW,CAACC,CAAA3F,GAAZ,CACEkB,MAAAD,SAAAmC,KAAA,CAAuBT,CADzB,KAAA,CAIM,IAAA,EAAqCgD,CAAAxF,KAAA,EAAnC0F,EAAAA,CAAA,CAAA,MAAO,KAAAC,EAAA,CAAA,QAASC,EAAAA,CAAA,CAAA,KAAMC,EAAAA,CAAA,CAAA,SAC9BvE,EAAA4D,UAAA,CAAoBS,CACpBG,EAAA,CAAsBH,CAAtB,CACMjG,EAAAA,CAASuB,CAATvB,EAAwB,GAAR,EAAA0D,CAAA,CAAc,EAAd,CAAmBA,CAAnC1D,CACD2D,EAAL,EACEnC,OAAAC,UAAA,CAAkB,CAAA,CAAlB;AAAwB,IAAxB,CAA8BzB,CAA9B,CAEF6B,SAAAmE,MAAA,CAAiBA,CACjB7E,EAAA,CAAWC,QAAAD,SACPC,SAAAyC,KAAJ,EAEQwC,CAFR,CAEaxE,QAAAqD,eAAA,CADA9D,QAAAyC,KAAAyC,QAAAC,CAAsB,IAAtBA,CAA4B,EAA5BA,CACA,CAFb,GAIIF,CAAAG,eAAA,CAAkB,CAAEC,SAAU,QAAZ,CAAsBC,MAAO,OAA7B,CAAlB,CAJJ,CAME9E,CAAA4E,eAAA,CAAuB,CAAEC,SAAU,QAAZ,CAAsBC,MAAO,OAA7B,CAAvB,CAEFC,EAAA,CAAWT,CAAX,CAAiBhD,CAAA,EAAjB,CACIiD,EAAJ,EACES,IAAA,CAAKT,CAAL,CAvBF,CAL6B,CAA/B,CAZA,CAF4E,CAuD9EQ,QAASA,EAAU,CAACE,CAAD,CAAUC,CAAV,CAAiB,CAClCA,CAAA3D,QAAA,CAAc,QAAA,CAAAC,CAAA,CAAQ,CACpB,IAAM2D,EAAc3D,CAAAK,aAAA,CAAkB,WAAlB,CAEduD,EAAAA,CADS5D,CAAAK,aAAAwD,CAAkB,WAAlBA,CACA,CAAS7D,CAAT,CAAgBA,CAAA8D,cAC3BH,EAAJ,EAAmBF,CAAnB,CACEG,CAAAG,UAAAC,OAAA,CAAwB,QAAxB,CADF,CAGEJ,CAAAG,UAAAE,IAAA,CAAqB,QAArB,CAPkB,CAAtB,CADkC;AAcpCjB,QAASA,EAAqB,CAACkB,CAAD,CAAO,CACnC,IAAIC,EAAU,EAAd,CACIC,EAAU,EACAF,EAAAhB,QAAA,CAAa,uCAAb,CAAsD,QAAQ,CAACmB,CAAD,CAAIC,CAAJ,CAAUC,CAAV,CAAiB,CAC3F,GAAI,eAAA/D,KAAA,CAAqB8D,CAArB,CAAJ,CACEF,CAAAI,KAAA,CAAaD,CAAb,CADF,KAKA,OADAJ,EACO,EADII,CACJ,CADa,IACb,CAAA,EANoF,CAA/E,CASdH,EAAArE,QAAA,CAAgB,QAAQ,CAAC0E,CAAD,CAAM,CAC5BC,CAAA,CAAWD,CAAX,CAAgB,CAAA,CAAhB,CAD4B,CAA9B,CAIIxG,OAAA0G,WAAJ,CACE1G,MAAA0G,WAAA,CAAkBR,CAAlB,CADF,CAEWA,CAFX,EAGEO,CAAA,CAAWP,CAAX,CAnBiC,CAwBrCO,QAASA,EAAU,CAACE,CAAD,CAAYH,CAAZ,CAAiB,CAClC,IAAII,EAAOpG,QAAAqG,qBAAA,CAA8B,MAA9B,CAAA,CAAsC,CAAtC,CAAX,CACIC,EAAgBtG,QAAA2C,cAAA,CAAuB,QAAvB,CAChBqD,EAAJ,CACEM,CAAAC,aAAA,CAA2B,MAA3B,CAAmC,QAAnC,CADF,CAGED,CAAAC,aAAA,CAA2B,MAA3B,CAAmC,iBAAnC,CAEFD,EAAAH,UAAA,CAA0BA,CAC1BC,EAAAxC,YAAA,CAAiB0C,CAAjB,CATkC;",
"sources":[" [synthetic:es6/util/arrayiterator] "," [synthetic:es6/util/makeiterator] "," [synthetic:es6/util/arrayfromiterator] ","src/js/ajax-loader/fetch.js","src/js/ajax-loader/index.js"," [synthetic:es6/util/arrayfromiterable] ","src/js/ajax-loader/lib.js"],
"sourcesContent":["/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Utility method for creating an iterator for Arrays.\n */\n'require base';\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {function():!IIterableResult<T>}\n * @template T\n */\n$jscomp.arrayIteratorImpl = function(array) {\n  var index = 0;\n  return function() {\n    if (index < array.length) {\n      return {\n        done: false,\n        value: array[index++],\n      };\n    } else {\n      return {done: true};\n    }\n  };\n};\n\n/**\n * Returns an internal iterator from the given array.\n * @param {!Array<T>} array\n * @return {!Iterator<T>}\n * @template T\n */\n$jscomp.arrayIterator = function(array) {\n  return /** @type {!Iterator<T>} */ ({next: $jscomp.arrayIteratorImpl(array)});\n};\n\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for for-of loops.\n */\n'require es6/util/arrayiterator';\n\n/**\n * Creates an iterator for the given iterable.  This iterator should never\n * be exposed to user code.\n *\n * @param {string|!Iterable<T>|!Iterator<T>|!Arguments<T>} iterable\n * @return {!Iterator<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.makeIterator = function(iterable) {\n  // NOTE: Disabling typechecking because [] not allowed on @struct.\n  var iteratorFunction = typeof Symbol != 'undefined' && Symbol.iterator &&\n      (/** @type {?} */ (iterable)[Symbol.iterator]);\n  return iteratorFunction ? iteratorFunction.call(iterable) :\n      $jscomp.arrayIterator(/** @type {!Array} */ (iterable));\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require base';\n\n\n/**\n * Copies the values from an Iterator into an Array. The important difference\n * between this and $jscomp.arrayFromIterable is that if the iterator's\n * next() method has already been called one or more times, this method returns\n * only the values that haven't been yielded yet.\n * @param {!Iterator<T>} iterator\n * @return {!Array<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.arrayFromIterator = function(iterator) {\n  var i;\n  var arr = [];\n  while (!(i = iterator.next()).done) {\n    arr.push(i.value);\n  }\n  return arr;\n};\n","/* eslint-env browser */\nfunction fetchCallback(url, callback, options = {}) {\n  const {\n    method = 'get',\n  } = options\n  const request = new XMLHttpRequest()\n  request.open(method, url, true)\n\n  request.onload = () => {\n    callback(null, response())\n  }\n\n  request.onerror = () => {\n    callback(`Could not load the resource at ${url}.`)\n  }\n  request.send(null)\n\n  function response() {\n    return {\n      ok: (request.status/100|0) == 2,    // 200-299\n      json: () => JSON.parse(request.responseText),\n    }\n  }\n}\n\nexport default fetchCallback","import fetchCallback from './fetch'\nimport { addLoading } from './lib'\n\nconst supports = () => {\n  return window.history.pushState && window.onpopstate !== undefined\n}\n\nconst AjaxLoader = ({\n  contentSelector = '#Content',\n  navSelector = '.AjaxNav',\n  root = '/',\n} = {}) => {\n  if(!supports()) return\n  const Content = document.querySelector(contentSelector)\n  const [...Menus] = document.querySelectorAll(navSelector)\n  const AllLinks = Menus.reduce((acc, menu) => {\n    const as = setupMenu(menu, Content, () => AllLinks, root)\n    return [...acc, ...as]\n  }, [])\n  window.addEventListener('popstate', ({ state }) => {\n    const p = location.pathname.slice(root.length)\n    loadPage(p, Content, () => AllLinks, root, state)\n  })\n  history.replaceState(true, null)\n}\nlet pathname = location.pathname\n\n\nwindow['AjaxLoader'] = AjaxLoader\n\nconst setupMenu = (menu, Content, GetAllLinks, root) => {\n  const [...as] = menu.querySelectorAll('a')\n  as.forEach((link) => {\n    link.addEventListener('click', (e) => {\n      e.preventDefault()\n      const href = e.currentTarget.getAttribute('href')\n      loadPage(href, Content, GetAllLinks, root)\n      return false\n    })\n  })\n  return as\n}\n\n/**\n * @param {string} page The location of the page to load.\n * @param {Element} Content The element that should be faded out and on top of which the loading indicator will appear.\n * @param {function(): Array<Element>} GetAllLinks All the links on the page.\n * @param {string} root The root path of the website.\n */\nconst loadPage = (page, Content, GetAllLinks, root, skipPushState = false) => {\n  const p = /^\\//.test(page) ? page : `/${page}`\n  if (pathname == p) {\n    history.replaceState({ 'hash': location.hash }, null)\n    return\n  }\n  const h = `${root}ajax${p}`\n  let placeholder\n  let complete\n  setTimeout(() => {\n    // debounce read from cache\n    if (complete) return\n    placeholder = addLoading(Content)\n  }, 100)\n  fetchCallback(h, (err, res) => {\n    complete = true\n    if (placeholder) {\n      document.body.removeChild(placeholder)\n    }\n    if (err || !res.ok) {\n      window.location.href = p\n      return\n    }\n    const { title, content, file, postAjax } = res.json()\n    Content.innerHTML = content\n    stripAndExecuteScript(content)\n    const url = `${root}${page == '/' ? '' : page}`\n    if (!skipPushState) {\n      history.pushState(true, null, url)\n    }\n    document.title = title\n    pathname = location.pathname\n    if (location.hash) {\n      const id = location.hash.replace(/^#/, '')\n      const el = document.getElementById(id)\n      if (el)\n        el.scrollIntoView({ behavior: 'smooth', block: 'start' })\n    } else {\n      Content.scrollIntoView({ behavior: 'smooth', block: 'start' })\n    }\n    fixClasses(file, GetAllLinks())\n    if (postAjax) {\n      eval(postAjax)\n    }\n    // try {\n    //   window['splendidPostAjax']()\n    // } catch (postAjaxErr) {\n    //   console.warn(postAjaxErr)\n    // }\n  })\n}\n\n/**\n * For all links, update their parent, or their own (when data-self is set) classes to set `Active`. Links need to have `data-file` options to recognise which page they correspond to.\n */\nfunction fixClasses(newFile, links) {\n  links.forEach(link => {\n    const currentFile = link.getAttribute('data-file')\n    const isSelf = link.getAttribute('data-self')\n    const target = isSelf ? link : link.parentElement\n    if (currentFile != newFile) {\n      target.classList.remove('Active')\n    } else {\n      target.classList.add('Active')\n    }\n  })\n}\n\n// https://stackoverflow.com/questions/2592092/executing-script-elements-inserted-with-innerhtml\nfunction stripAndExecuteScript(text) {\n  var scripts = ''\n  var modules = []\n  var cleaned = text.replace(/<script([^>]*)>([\\s\\S]*?)<\\/script>/gi, function(m, tags, script){\n    if (/type=\"module\"/.test(tags)) {\n      modules.push(script)\n      return\n    }\n    scripts += script + '\\n'\n    return ''\n  })\n\n  modules.forEach(function(mod) {\n    makeScript(mod, true)\n  })\n\n  if (window.execScript){\n    window.execScript(scripts)\n  } else if (scripts) {\n    makeScript(scripts)\n  }\n  return cleaned\n}\n\nfunction makeScript(innerText, mod) {\n  var head = document.getElementsByTagName('head')[0]\n  var scriptElement = document.createElement('script')\n  if (mod) {\n    scriptElement.setAttribute('type', 'module')\n  } else {\n    scriptElement.setAttribute('type', 'text/javascript')\n  }\n  scriptElement.innerText = innerText\n  head.appendChild(scriptElement)\n}","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for array destructuring.\n */\n'require es6/util/makeiterator';\n'require es6/util/arrayfromiterator';\n\n\n/**\n * Copies the values from an Iterable into an Array.\n * @param {string|!Array<T>|!Iterable<T>|!Arguments<T>} iterable\n * @return {!Array<T>}\n * @template T\n */\n$jscomp.arrayFromIterable = function(iterable) {\n  if (iterable instanceof Array) {\n    return iterable;\n  } else {\n    return $jscomp.arrayFromIterator($jscomp.makeIterator(iterable));\n  }\n};\n","/**\n * @param {HTMLElement} Content\n */\nexport const addLoading = (Content) => {\n  const { top, left, width, height } = Content.getBoundingClientRect()\n  const Placeholder = document.createElement('div')\n  Placeholder.style.position = 'absolute'\n  Placeholder.style.top = `${top + window.pageYOffset}px`\n  Placeholder.style.left = `${left + window.pageXOffset}px`\n  Placeholder.style.width = `${width}px`\n  Placeholder.style.height = `${height}px`\n  Placeholder.style.background = 'rgba(255,255,255,0.75)'\n  Placeholder.style.zIndex = 99999\n  const Loader = document.createElement('div')\n  Loader.style.textAlign = 'center'\n  Loader.style.width = '100%'\n  const SplendidLoader = document.getElementById('SplendidLoader')\n  let innerHtml = '<span class=\"SplendidLoader\">Loading\u2026</span>'\n  if (SplendidLoader) {\n    /** @type {HTMLElement} */\n    const c = SplendidLoader.cloneNode(false)\n    c.style.display = ''\n    innerHtml = c.outerHTML\n  }\n  Loader.innerHTML = innerHtml\n  Placeholder.appendChild(Loader)\n  document.body.insertBefore(Placeholder, document.body.firstChild)\n  return Placeholder\n}"],
"names":["$jscomp.arrayIteratorImpl","fetchCallback","url","callback","response","ok","request","status","json","JSON","parse","responseText","options","XMLHttpRequest","open","method","onload","request.onload","onerror","request.onerror","send","pathname","location","window","AjaxLoader","root","history","pushState","undefined","onpopstate","Content","document","querySelector","contentSelector","$jscomp.makeIterator","querySelectorAll","navSelector","AllLinks","$jscomp.arrayFromIterator","Menus","reduce","acc","menu","as","setupMenu","addEventListener","loadPage","slice","p","length","state","replaceState","GetAllLinks","forEach","link","e","preventDefault","href","currentTarget","getAttribute","page","skipPushState","test","hash","h","placeholder","complete","setTimeout","getBoundingClientRect","top","left","width","height","Placeholder","createElement","style","position","pageYOffset","pageXOffset","background","zIndex","Loader","textAlign","SplendidLoader","getElementById","innerHtml","c","cloneNode","display","outerHTML","innerHTML","appendChild","body","insertBefore","firstChild","err","res","removeChild","title","content","file","postAjax","stripAndExecuteScript","el","replace","id","scrollIntoView","behavior","block","fixClasses","eval","newFile","links","currentFile","target","isSelf","parentElement","classList","remove","add","text","scripts","modules","m","tags","script","push","mod","makeScript","execScript","innerText","head","getElementsByTagName","scriptElement","setAttribute"]
}
